# movie-explorer-full

1. Лендинг по результатами обучения в Я.Практикум, с доступом к фильмотеке и функционалом сортировки и сохранения понравившихся фильмов при регистрации, с использованием библиотеки React и базы данных MongoDB. Запуск сервера на Node.js c использованием фреймворка Express.

2. Реализована семантическая верстка и стилизация по БЭМ, регистрация и вход пользователей по токену, реализация функционала подсчета (добавления и удаления) лайков и сохранение понравившихся фильмов в индивидуальную фильмотеку, форма редактирования профиля, открытие(закрытие) попапов, применение хуков (использование стейт переменных, эффектов, навигации и контекста), в том числе пользовательских, работа с несколькими файлами js, создание сервера, создание базы данных и централизованная обработка ошибок при работе с базой. Сохранение данных в  localStorage и на сервер в базе данных MangoDB, валидация данных на фронтенде и бэкэнде(на уровне схемы и при обращении к контроллеру), использование роутинга на фронте и бэке.

3. Необходимо добавить проверку почту, возможность добавлять аватар, для авторизованного пользователя добавить на главную страницу возможность перехода в фильмотеку. Вместе с предыдущеми проектами добавить на удаленный сервер и заменить ссылки на GitHub в блоке портфолио на реальные ссылки работающих проектов, проверить необходимость Api.js (удалить), hассмотреть дополнительные роуты после добавления фронтенда.

+ [Ссылка на проект в GitHub](https://github.com/alix1982/movies-explorer-full)

## Директории

Репозиторий для приложения проекта **Mesto**, включающий фронтенд и бэкенд части приложения. Бэкенд расположен в директории `movies-explorer-api/`, а фронтенд - в `movies-explorer-frontend/`.

Директория `movies-explorer-api/`:

- `/routes` — папка с файлами роутеров,
- `/controllers` — папка с файлами контроллеров пользователя и карточки,
- `/models` — папка с файлами описания схем пользователя и карточки,
- `/middlewares` — папка с файлами проверки авторизации, организации ведедения логов (запросов и ошибок), реализации механизма CORS,
- `/errors` — папка с файлами основных типов ошибок сервера,
- `/utils` — папка утилит,
- `/validations` — модуль валидации,
- остальные директории вспомогательные, создаются при необходимости разработчиком

## Запуск проекта

### Для запуска проекта удаленно:
- предварительно установить Node.js и MangoDB.
- задать адрес обращения приложения к серверу (задать переменной `BASE_URL` нужный адрес сервера в компоненте `movies-explorer-frontend/utils/Api.js` (строка 1-2)),
- задать адрес обращения приложения к серверу (задать переменной `MAIN_URL` нужный адрес сервера в компоненте `movies-explorer-frontend/utils/MainApi.js` (строка 1-2)),
- залить проект на облачный сервер:
  - скопировать бекенд часть на сервер через консоль,
  - для копирования фронтенд части в компилированном виде использовать `npm run deploy` из директории `movies-explorer-frontend/`, предварительно в `movies-explorer-frontend/package.json` настроить скрипт `deploy`, изменив в нем имя облачного сервера (изменить `movie@130.193.51.14`),
- установить зависимости (npm i) отдельно для фронтенда и бекенда,
- установить и настроить работу pm2,
- настроить работу портов сервера (nginx),
- установить сертификаты SSL,
- оставить комментарии в GitHub по совершенствованию проекта.

### Для запуска проекта локально:
- необходимо предварительно установить Node.js и MangoDB.
- клонировать проект c gitHub,
- задать адрес обращения приложения к локальному серверу (задать переменной `BASE_URL` значение 'http://localhost:3001' в компоненте `movies-explorer-frontend/utils/Api.js` (строка 1-2)),
- задать адрес обращения приложения к локальному серверу (задать переменной `MAIN_URL` значение 'http://localhost:3001' в компоненте `movies-explorer-frontend/utils/MainApi.js` (строка 1-2)),
- настроить работу сервера локально на порту 3001 (задать переменной PORT значение 3001 в компоненте `movies-explorer-api/app.js` (строка 12-13)),
- установить зависимости (npm i) отдельно для фронтенда и бекенда,
- запустить установленную локально базу данных MangoDB (в консоли 'mongod'),
- запустить сервер из папки `movies-explorer-api/`:
  - `npm run start` — запускает сервер   
  - `npm run dev` — запускает сервер в режиме разработки (с hot-reload)

- запустить приложение из папки `movies-explorer-frontend/`:
  - `npm run start` — запускает приложение

